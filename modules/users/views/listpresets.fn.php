<?

//--------------------------------------------------------------------------------------------------
//*	display all preset theme customizations in alphabetical order
//--------------------------------------------------------------------------------------------------

function users_listpresets() {
	global $user;
	global $theme;
	global $db;

	$html = '';						//%	return value [string]

	//----------------------------------------------------------------------------------------------
	//	check arguments and permissions
	//----------------------------------------------------------------------------------------------
	if ('admin' != 	$user->role) { return ''; }

	//----------------------------------------------------------------------------------------------
	//	query database
	//----------------------------------------------------------------------------------------------
	$conditions = array("cat='theme'");
	$range = $db->loadRange('users_preset', '*', $conditions, 'title');

	//----------------------------------------------------------------------------------------------
	//	make the block
	//----------------------------------------------------------------------------------------------
	foreach($range as $item) {
		$html .= "[[:users::showpreset::presetUID=" . $item['UID'] . ":]]\n";
	}

	return $html;
}

?>
